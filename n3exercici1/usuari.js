
db.createCollection( 'usuari', {validator: {$jsonSchema: {bsonType: 'object',title:'usuari',required: [         'email',          'password',          'nom',          'data_naixement',          'genere',          'pais',          'CP',          'tipus',          'premium',          'playlists',          'afegir_canço',          'follow_playlists',          'folow_artist',          'like_album',          'like_canço'],properties: {email: {bsonType: 'string'},password: {bsonType: 'string'},nom: {bsonType: 'string'},data_naixement: {bsonType: 'date'},genere: {enum: },pais: {bsonType: 'string'},CP: {bsonType: 'int'},tipus: {bsonType: 'int', description:'0= free, 1 = premium'},premium: {bsonType: 'object',
title:'object',required: [         'data_inici',          'forma_pagament',          'pagaments'],properties: {data_inici: {bsonType: 'timestamp'},data_renovacio: {bsonType: 'timestamp'},forma_pagament: {bsonType: 'array',items: {
title:'object',properties: {targeta: {bsonType: 'object',
title:'object',required: [         'caducitat',          'codi_seguretat'],properties: {caducitat: {bsonType: 'date'},codi_seguretat: {bsonType: 'int'}}},paypal: {bsonType: 'object',
title:'object',required: [         'nom'],properties: {nom: {bsonType: 'string'}}}}}},pagaments: {bsonType: 'array',items: {
title:'object',required: [         'num_ordre',          'data',          'total'],properties: {num_ordre: {bsonType: 'objectId'},data: {bsonType: 'timestamp'},total: {bsonType: 'double'}}}}}},playlists: {bsonType: 'array',items: {
title:'object',required: [         'id',          'titol',          'num_cançons',          'data_creacio',          'estat'],properties: {id: {bsonType: 'objectId'},titol: {bsonType: 'string'},num_cançons: {bsonType: 'int'},data_creacio: {bsonType: 'timestamp'},estat: {bsonType: 'int', description:'0 = activa, 1  =esborrada'}}}},afegir_canço: {bsonType: 'array',items: {
title:'object',required: [         'id_playlist',          'id_canço',          'data'],properties: {id_playlist: {bsonType: 'objectId'},id_canço: {bsonType: 'array',items: {bsonType: 'objectId'}},data: {bsonType: 'timestamp'}}}},follow_playlists: {bsonType: 'array',items: {bsonType: 'objectId'}},folow_artist: {bsonType: 'array',items: {bsonType: 'objectId'}},like_album: {bsonType: 'array',items: {bsonType: 'objectId'}},like_canço: {bsonType: 'array',items: {bsonType: 'objectId'}}}         }      }});  